<!doctype html><html lang=en><head><title>dyong1</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="dyong1's homepage"><meta name=author content="dyong1"><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=96x96 href=/favicon-96x96.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/x-icon href=/favicon.ico><link rel=stylesheet type=text/css href=/styles.css></head><body><header id=header><nav class=nav><a class=nav-home href=/><img src=/profile-pic.png>
<span>dyong1</span></a><ul class=nav-menus><a class=active href=/>Blog</a>
<a href=/about>About</a></ul></nav></header><main id=main><section id=post><article><h1 class=title>Designing a blog system with Google Docs</h1><dl class=desc><dd>2020-04-25</dd></dl><h2 class=c13 id=h.1aylj45g7hxk><span class=c7>Requirements</span></h2><ol class="c8 lst-kix_d3ynlpee5rx8-0" start=5><li class=c1><span class=c0>[MUST] Want to write blog posts anywhere via a Google Docs document</span></li><li class=c1><span class=c0>[MUST] Want to view blog posts on my website</span></li><li class=c1><span class=c0>[Optional] Want to have a separate URI for each blog posting</span></li><li class=c1><span class=c0>[Optional] Want to search my website for a specific blog post with a keyword</span></li></ol><p class="c2 c3"><span class=c0></span></p><h2 class=c13 id=h.m8hdh5wotf76><span class=c7>Design1: Static website with a Google Docs doc embedded</span></h2><p class=c2><span class=c0>Just embed a Google Docs document into a web page and publish it.</span></p><h2 class=c13 id=h.xoqbglgdn01m><span class=c7>Design2: Website with a page per blog posting</span></h2><p class=c2><span class="c9 c15 c19">Assumptions:</span></p><ul class="c8 lst-kix_3ujaovl7uuh1-0 start"><li class=c1><span class=c0>A blog posting is a certain part of a document e.g., between by headings</span></li></ul><h3 class=c6 id=h.ys5vbaiftg21><span class="c12 c14 c15">Problem: Retrieving a blog posting</span></h3><p class=c2><span class="c9 c19 c15">Solution1: Google Docs API</span></p><p class=c2><span class=c14>Google Docs API provides </span><span class="c14 c17"><a class=c4 href="https://www.google.com/url?q=https://developers.google.com/docs/api/reference/rest/v1/documents%23resource-document&sa=D&ust=1588122854103000">Document REST resource</a></span><span class=c0>, which defines</span></p><ul class="c8 lst-kix_cy7tq36g7cyc-0 start"><li class=c1><span class=c0>Contents</span></li><li class=c1><span class=c0>Styles</span></li></ul><p class=c2><span class="c9 c19 c15 c21">[ACCEPTED] Solution2: Scrapping from an embedded Google Docs document</span></p><p class=c2><span class=c0>It&#8217;s perfectly working but has security issues potentially.</span></p><p class=c2><span class=c0>A blog&#8217;s posting:</span></p><ul class="c8 lst-kix_stsakxerte5x-0 start"><li class=c1><span class=c0>Between nearest heading1s</span></li></ul><ul class="c8 lst-kix_stsakxerte5x-1 start"><li class="c2 c22"><span class=c14>Til the end of the document if the ending heading1 is missing</span></li></ul><h3 class=c6 id=h.t96re43pfh64><span class="c5 c12">Problem: Rendering a Google Docs document as HTML</span></h3><p class=c2><span class=c5>It&#8217;s not required by </span><span class="c5 c10">Solution2 for Problem: Retrieving a blog Posting</span><span class=c5>.</span></p><h3 class=c6 id=h.u5vkq8ees5fn><span class="c12 c14 c15">Problem: Determining the id for a blog posting</span></h3><p class=c2><span class=c0>Issue an id by converting the title of the blog posting:</span></p><p class=c2><span class="c14 c15 c10 c16">postingId(title, postingDate) => `${postingDate.format(&#8220;yyyy/mm/dd&#8221;)}/${dashedTitle(title).trim()}`</span></p><p class="c2 c3"><span class=c0></span></p><h3 class=c6 id=h.9dzw8p4rih3g><span class="c12 c14 c15">Problem: Routing pages for blog postings</span></h3><p class=c2><span class=c14>Build a static web page per blog posting via CI. </span><span class="c17 c14"><a class=c4 href="https://www.google.com/url?q=https://github.com/features/actions&sa=D&ust=1588122854105000">Github Action</a></span><span class=c0>&#160;works here very well. It&#8217;s free for 2000 min of executions.</span></p><p class=c2><span class=c0>Build process:</span></p><ul class="c8 lst-kix_3fa8e2mvyxjx-0 start"><li class=c1><span class=c0>Check out the blog repo</span></li><li class=c1><span class=c0>Fetch blog contents as HTML</span></li><li class=c1><span class=c0>Build static pages</span></li><li class=c1><span class=c0>Make a new commit in the blog repo</span></li><li class=c1><span class=c0>Push to the origin repo</span></li></ul></article><section class=post-nav><ul><li><a href=https://dyong1.github.io/blog/2020/04/26/minimal-implementation-of-the-blog-system/>> Next post: Minimal implementation of the blog system</a></li></ul></section></section></main></body></html>